<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Caesar Cipher</title>
</head>
<body>

<script>
  var alphabet = "abcdefghijklmnopqrstuvwxyz";
  var newalphabet = "";

  function createShift(n) {
    for (let i = 0; i < alphabet.length; i++) {
      let offset = (i + n) % alphabet.length;
      newalphabet += alphabet[offset];
    }
  }

  function encode() {
    // Start the timer for encoding
    const encodeStartTime = performance.now();

    let message = document.getElementById('txtMessage').value;
    let result = "";
    message = message.toLowerCase();

    for (let i = 0; i < message.length; i++) {
      let index = alphabet.indexOf(message[i]);
      if (index > -1)
        result += newalphabet[index];
      else
        result += ' ';
    }

    document.getElementById('cipher').innerHTML = result;

    // End the timer for encoding
    const encodeEndTime = performance.now();

    // Calculate the elapsed time for encoding
    const encodeElapsedTime = encodeEndTime - encodeStartTime;

    // Display the elapsed time for encoding
    document.getElementById('encodeResult').innerHTML = `Encoding - Elapsed time: ${encodeElapsedTime} milliseconds`;

    return result;
  }

  function decode() {
    // Start the timer for decoding
    const decodeStartTime = performance.now();

    let cipherText = document.getElementById('txtMessage').value;
    let result = "";

    for (let i = 0; i < cipherText.length; i++) {
      let index = newalphabet.indexOf(cipherText[i]);
      if (index > -1)
        result += alphabet[index];
      else
        result += ' ';
    }
[]
    document.getElementById('decoded').innerHTML = result;

    // End the timer for decoding
    const decodeEndTime = performance.now();

    // Calculate the elapsed time for decoding
    const decodeElapsedTime = decodeEndTime - decodeStartTime;

    // Display the elapsed time for decoding
    document.getElementById('decodeResult').innerHTML = `Decoding - Elapsed time: ${decodeElapsedTime} milliseconds`;

    return result;
  }

  window.addEventListener('load', function () {
    createShift(3);
  });
</script>
<div class="mainsection">
  <h1>Caesar Cipher</h1>
  <input type="text" id="txtMessage" placeholder="Enter message">
  <button onclick="encode()">Encrypt</button>
  <button onclick="decode()">Decrypt</button>
  <div id="cipher"></div>
  <div id="decoded"></div>
  <!-- Display complexity measurement results -->
<div id="results">
  <div id="encodeResult"></div>
  <div id="decodeResult"></div>
  <br>
     <!-- Link to go back to the main menu -->
     <a href="index.html">Back to Main Menu</a>
</div>

<style>
  .mainsection{
  justify-content: center;
  font-size: 20px;
  background: url(crypto2.avif);
  background-size: cover;
  background-repeat: no-repeat;
  height: 100vh;
  text-align: center;
  flex-direction: column;
  justify-content: center;
   background-position: center center;
  }
  
  #txtMessage{
    width: 400px;
    padding: 20px;
    border:solid 1px #ddd;
  }
  button{
    background: purple;
    color: white;
    padding: 10px 20px;
    text-decoration: none;
    display: inline-block;
  }

  #results{
    margin-left: 200px;
  }
  
</style>


</div>

</body>
</html>
